graph TD
    %% User
    User[üë§ User Queries]
    
    %% Layer 4: Auto-Optimization (Optional)
    Layer4[ü§ñ Auto-Optimization Layer<br/>Auto-Execute ‚Ä¢ Optimization Engine ‚Ä¢ Decision Framework]
    
    %% Layer 3: Agent Interface
    Layer3[üñ•Ô∏è Agent Interface Layer<br/>Terminal ‚Ä¢ Web UI ‚Ä¢ Cloud API ‚Ä¢ YOLO Mode]
    
    %% Layer 2: MCP Protocol
    Layer2[üîå MCP Protocol Layer<br/>Snowflake ‚Ä¢ BigQuery ‚Ä¢ PostgreSQL ‚Ä¢ CSV Connectors]
    
    %% Layer 1: Victoria Core
    Layer1[üß† Victoria Core Layer<br/>Victoria.md ‚Ä¢ Example Queries ‚Ä¢ Trader Smarts ‚Ä¢ Analytics Engine]
    
    %% Data Sources
    DataSources[üíæ Data Sources<br/>Snowflake ‚Ä¢ BigQuery ‚Ä¢ PostgreSQL ‚Ä¢ CSV Files]
    
    %% Connections
    User --> Layer4
    Layer4 -.->|Optional| Layer3
    User --> Layer3
    Layer3 --> Layer1
    Layer1 --> Layer2
    Layer2 --> DataSources
    
    %% Styling for clean layers
    classDef layer fill:#f9f9f9,stroke:#333,stroke-width:2px,color:#333,font-weight:bold
    classDef autoLayer fill:#FFE5E5,stroke:#FF6B6B,stroke-width:2px,color:#333,font-weight:bold
    classDef agentLayer fill:#E5F3FF,stroke:#4A90E2,stroke-width:2px,color:#333,font-weight:bold
    classDef mcpLayer fill:#E5FFE5,stroke:#32CD32,stroke-width:2px,color:#333,font-weight:bold
    classDef coreLayer fill:#F0E5FF,stroke:#7B68EE,stroke-width:2px,color:#333,font-weight:bold
    classDef dataLayer fill:#FFF5E5,stroke:#FF8C00,stroke-width:2px,color:#333,font-weight:bold
    classDef user fill:#E5E5E5,stroke:#666,stroke-width:2px,color:#333,font-weight:bold
    
    %% Apply styles
    class User user
    class Layer4 autoLayer
    class Layer3 agentLayer
    class Layer2 mcpLayer
    class Layer1 coreLayer
    class DataSources dataLayer

